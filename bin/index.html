<!doctype html>
<head>
  <meta charset="utf-8">
  <title>Remedy Bootstrap</title>

  <script src="../src/Base.js"></script>
  
  <script src="../src/TopLevel.js"></script>
  
  <script src="../src/utils/bind.js"></script>
  <script src="../src/utils/ColorUtils.js"></script>
  <script src="../src/utils/Reflect.js"></script>
  <script src="../src/utils/StringUtils.js"></script>
  
  <script src="../src/RemedyNamespace.js"></script>
  <script src="../src/RemedyBase.js"></script>
  <script src="../src/render/RemedyCanvas.js"></script>
  <script src="../src/render/RemedyDOM.js"></script>
  <script src="../src/render/RemedySVG.js"></script>
  <script src="../src/render/RemedyWebGL.js"></script>
  <script src="../src/RemedyAVM.js"></script>
  
  <script src="../src/flash/events/Event.js"></script>
  <script src="../src/flash/events/EventPhase.js"></script>
  <script src="../src/flash/events/IEventDispatcher.js"></script>
  <script src="../src/flash/events/EventDispatcher.js"></script>
  <script src="../src/flash/events/MouseEvent.js"></script>
  <script src="../src/flash/events/TimerEvent.js"></script>
  
  <script src="../src/flash/geom/ColorTransform.js"></script>
  <script src="../src/flash/geom/Matrix.js"></script>
  <script src="../src/flash/geom/Point.js"></script>
  <script src="../src/flash/geom/Rectangle.js"></script>
  <script src="../src/flash/geom/Transform.js"></script>
  
  <script src="../src/flash/display/ActionScriptVersion.js"></script>
  <script src="../src/flash/display/DisplayObject.js"></script>
  <script src="../src/flash/display/InteractiveObject.js"></script>
  <script src="../src/flash/display/DisplayObjectContainer.js"></script>
  <script src="../src/flash/display/Bitmap.js"></script>
  <script src="../src/flash/display/BlendMode.js"></script>
  <script src="../src/flash/display/Graphics.js"></script>
  <script src="../src/flash/display/LoaderInfo.js"></script>
  <script src="../src/flash/display/Shape.js"></script>
  <script src="../src/flash/display/Sprite.js"></script>
  <script src="../src/flash/display/Stage.js"></script>
  <script src="../src/flash/display/SWFVersion.js"></script>
  
  <script src="../src/flash/utils/ByteArray.js"></script>
  <script src="../src/flash/utils/clearInterval.js"></script>
  <script src="../src/flash/utils/clearTimeout.js"></script> 
  <script src="../src/flash/utils/describeType.js"></script> 
  <script src="../src/flash/utils/Endian.js"></script>
  <script src="../src/flash/utils/getDefinitionByName.js"></script>
  <script src="../src/flash/utils/getQualifiedClassName.js"></script>
  <script src="../src/flash/utils/getTimer.js"></script>
  <script src="../src/flash/utils/setInterval.js"></script>
  <script src="../src/flash/utils/setTimeout.js"></script>
  <script src="../src/flash/utils/Timer.js"></script> 
</head>
<body>
  <script>
  	var Test = flash.display.Sprite.extend({
  		constructor: function(){
  			this.base();
  			
  	  	  	this.addEventListener(flash.events.Event.ADDED, function(event){
  	  	  		trace('added', event.target.name, event.currentTarget.name);
  	  	  	});
  	  		this.addEventListener(flash.events.Event.ADDED_TO_STAGE, function(event){
	  	  		trace('added to stage', event.target.name, event.currentTarget.name);
	  	  	});

  	  		var s = new flash.display.Sprite();
  	  		s.name = "B";
	  	  	s.addEventListener(flash.events.Event.ADDED, function(event){
		  	  		trace('added child', event.target.name, event.currentTarget.name);
		  	});
		  	s.addEventListener(flash.events.Event.ADDED_TO_STAGE, function(event){
	  	  		trace('added child to stage', event.target.name, event.currentTarget.name);
	  	  	});
  	  		
  	  		this.addChild(s);
  	  		
  	  		this.graphics.beginFill(0xff00ff, 1.0);
  	  		this.graphics.drawCircle(100, 100, 100);
  	  		this.graphics.endFill();
  	  		
  	  		trace(flash.utils.describeType(flash.display.Sprite));
  		}
  	});
  	
  	
  	// trace(flash.utils.describeType(new flash.display.Sprite()));
  	
  	var avm = new RemedyAVM();
  	//avm.renderer = new render.RemedyCanvas();
  	//avm.renderer = new render.RemedySVG();
  	avm.renderer = new render.RemedyDOM();
  	avm.boot(Test);
  </script>
</body>
</head>